class r{constructor(t){this.canvas=t,this.ctx=t.getContext("2d"),this.particles=[],this.particleCount=50,this.colors=["#89b4fa","#cba6f7","#a6e3a1","#f5c2e7","#fab387","#94e2d5","#89dceb","#b4befe"],this.resize(),this.init(),this.animate(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}init(){this.particles=[];for(let t=0;t<this.particleCount;t++)this.particles.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*3+1,color:this.colors[Math.floor(Math.random()*this.colors.length)],opacity:Math.random()*.5+.1})}animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach(t=>{t.x+=t.vx,t.y+=t.vy,t.x<0&&(t.x=this.canvas.width),t.x>this.canvas.width&&(t.x=0),t.y<0&&(t.y=this.canvas.height),t.y>this.canvas.height&&(t.y=0),this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,Math.PI*2),this.ctx.fillStyle=t.color+Math.floor(t.opacity*255).toString(16).padStart(2,"0"),this.ctx.fill()}),requestAnimationFrame(()=>this.animate())}}document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("particles-canvas");n&&new r(n)});class a{constructor(){this.preview=document.getElementById("link-preview"),this.previewFavicon=this.preview?.querySelector(".preview-favicon"),this.previewTitle=this.preview?.querySelector(".preview-title"),this.previewUrl=this.preview?.querySelector(".preview-url"),this.currentTimeout=null,this.preview&&this.init()}init(){document.querySelectorAll(".link-button").forEach(i=>{i.addEventListener("mouseenter",e=>this.showPreview(e)),i.addEventListener("mouseleave",()=>this.hidePreview()),i.addEventListener("mousemove",e=>this.updatePosition(e))}),this.preview.addEventListener("mouseenter",()=>{this.currentTimeout&&clearTimeout(this.currentTimeout)}),this.preview.addEventListener("mouseleave",()=>this.hidePreview())}showPreview(t){this.currentTimeout&&clearTimeout(this.currentTimeout);const i=t.currentTarget,e=i.href,s=i.querySelector(".link-title")?.textContent||"Link";this.previewTitle.textContent=s,this.previewUrl.textContent=new URL(e).hostname,this.previewFavicon.src=`https://www.google.com/s2/favicons?domain=${new URL(e).hostname}&sz=32`,this.updatePosition(t);const o=this.preview.classList.contains("show")?0:300;this.currentTimeout=setTimeout(()=>{this.preview.classList.add("show")},o)}hidePreview(){this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=setTimeout(()=>{this.preview.classList.remove("show")},100)}updatePosition(t){const i=this.preview.getBoundingClientRect();let e=t.clientX+15,s=t.clientY-i.height-15;e+i.width>window.innerWidth&&(e=t.clientX-i.width-15),s<0&&(s=t.clientY+15),this.preview.style.left=e+"px",this.preview.style.top=s+"px"}}document.addEventListener("DOMContentLoaded",()=>{new a});class c{constructor(){this.checkedUrls=new Map,this.checkInterval=3e4,this.init()}init(){document.getElementById("offline-detector")&&(this.checkAllLinks(),setInterval(()=>this.checkAllLinks(),this.checkInterval),window.addEventListener("online",()=>{setTimeout(()=>this.checkAllLinks(),1e3)}))}async checkAllLinks(){const t=document.querySelectorAll(".link-button");for(const i of t){const e=i.href;e&&!e.startsWith("mailto:")&&!e.startsWith("tel:")&&await this.checkLinkStatus(i,e)}}async checkLinkStatus(t,i){try{const e=new URL(i).hostname,s=this.checkedUrls.get(e);if(s&&Date.now()-s<this.checkInterval&&!t.classList.contains("link-disabled"))return;const o=new AbortController,h=setTimeout(()=>o.abort(),5e3),l=await fetch(`https://www.google.com/s2/favicons?domain=${e}&sz=16`,{method:"HEAD",mode:"no-cors",signal:o.signal});clearTimeout(h),this.setLinkStatus(t,!0),this.checkedUrls.set(e,Date.now())}catch{this.setLinkStatus(t,!1)}}setLinkStatus(t,i){i?(t.classList.remove("link-disabled"),t.removeAttribute("title")):(t.classList.add("link-disabled"),t.setAttribute("title","This link may be blocked or unavailable"))}}document.addEventListener("DOMContentLoaded",()=>{new c});
